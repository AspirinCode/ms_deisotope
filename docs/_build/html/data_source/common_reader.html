
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Common MS File Model &#8212; ms_deisotope  documentation</title>
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="File Metadata" href="metadata/index.html" />
    <link rel="prev" title="Common Scan Model" href="common_scan.html" /> 
  </head><body>
      <div class="header" role="banner"><img class="rightlogo" src="../_static/logo.svg" alt="Logo"/><h1 class="heading"><a href="../index.html">
          <span>ms_deisotope  documentation</span></a></h1>
        <h2 class="heading"><span>Common MS File Model</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="common_scan.html">Common Scan Model</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="metadata/index.html">File Metadata</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="common-ms-file-model">
<h1>Common MS File Model<a class="headerlink" href="#common-ms-file-model" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">ms_deisotope.data_source</span></code> uses a set of common interfaces for reading
mass spectrometry data files so that code written for one format should work
for all formats which implement the same interfaces.</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">ms_deisotope.data_source.metadata</span></code> defines a set of data structures and
a collection of controlled vocabulary terms describing mass spectrometers and
mass spectrometry data files.</p>
</div></blockquote>
<span class="target" id="module-ms_deisotope.data_source.common"></span><div class="section" id="abstract-base-classes">
<h2>Abstract Base Classes<a class="headerlink" href="#abstract-base-classes" title="Permalink to this headline">¶</a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">ms_deisotope</span></code> supports reading from many different file formats. While
the file format is abstracted away as much as possible, the modes of access are
built into the type hierarchy.</p>
<p>All of the currently implemented formats implement both <a class="reference internal" href="#ms_deisotope.data_source.common.ScanIterator" title="ms_deisotope.data_source.common.ScanIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScanIterator</span></code></a> and
<a class="reference internal" href="#ms_deisotope.data_source.common.RandomAccessScanSource" title="ms_deisotope.data_source.common.RandomAccessScanSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomAccessScanSource</span></code></a>.</p>
<dl class="class">
<dt id="ms_deisotope.data_source.common.ScanDataSource">
<em class="property">class </em><code class="descclassname">ms_deisotope.data_source.common.</code><code class="descname">ScanDataSource</code><a class="reference internal" href="../_modules/ms_deisotope/data_source/common.html#ScanDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms_deisotope.data_source.common.ScanDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>An Abstract Base Class describing an object
which can provide a consistent set of accessors
for a particular format of mass spectrometry data.</p>
<p>Data files come in many shapes and sizes, with different
underlying structures. This class provides an API that
should make features as consistent as possible to clients
of <a class="reference internal" href="common_scan.html#ms_deisotope.data_source.common.Scan" title="ms_deisotope.data_source.common.Scan"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scan</span></code></a> objects.</p>
</dd></dl>

<dl class="class">
<dt id="ms_deisotope.data_source.common.ScanIterator">
<em class="property">class </em><code class="descclassname">ms_deisotope.data_source.common.</code><code class="descname">ScanIterator</code><a class="reference internal" href="../_modules/ms_deisotope/data_source/common.html#ScanIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms_deisotope.data_source.common.ScanIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>An Abstract Base Class that extends ScanDataSource
with additional requirements that enable clients of the
class to treat the object as an iterator over the underlying
data file.</p>
<dl class="method">
<dt id="ms_deisotope.data_source.common.ScanIterator.make_iterator">
<code class="descname">make_iterator</code><span class="sig-paren">(</span><em>iterator=None</em>, <em>grouped=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms_deisotope/data_source/common.html#ScanIterator.make_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms_deisotope.data_source.common.ScanIterator.make_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the iterator’s behavior.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>iterator</strong> (<em>Iterator</em><em>, </em><em>optional</em>) – The iterator to manipulate. If missing, the default
iterator will be used.</li>
<li><strong>grouped</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the iterator should be grouped and produce <a class="reference internal" href="common_scan.html#ms_deisotope.data_source.common.ScanBunch" title="ms_deisotope.data_source.common.ScanBunch"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScanBunch</span></code></a> objects
or single <a class="reference internal" href="common_scan.html#ms_deisotope.data_source.common.Scan" title="ms_deisotope.data_source.common.Scan"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scan</span></code></a>. Defaults to True</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ms_deisotope.data_source.common.RandomAccessScanSource">
<em class="property">class </em><code class="descclassname">ms_deisotope.data_source.common.</code><code class="descname">RandomAccessScanSource</code><a class="reference internal" href="../_modules/ms_deisotope/data_source/common.html#RandomAccessScanSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms_deisotope.data_source.common.RandomAccessScanSource" title="Permalink to this definition">¶</a></dt>
<dd><p>An Abstract Base Class that extends ScanIterator
with additional requirements that the implementation support
random access to individual scans. This should be doable by unique
identifier, sequential index, or by scan time.</p>
<dl class="method">
<dt id="ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_id">
<code class="descname">get_scan_by_id</code><span class="sig-paren">(</span><em>scan_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms_deisotope/data_source/common.html#RandomAccessScanSource.get_scan_by_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the scan object for the specified scan id.</p>
<p>If the scan object is still bound and in memory somewhere,
a reference to that same object will be returned. Otherwise,
a new object will be created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scan_id</strong> (<em>str</em>) – The unique scan id value to be retrieved</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="common_scan.html#ms_deisotope.data_source.common.Scan" title="ms_deisotope.data_source.common.Scan">Scan</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_index">
<code class="descname">get_scan_by_index</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms_deisotope/data_source/common.html#RandomAccessScanSource.get_scan_by_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the scan object for the specified scan index.</p>
<p>This internally calls <a class="reference internal" href="#ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_id" title="ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_id"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_scan_by_id()</span></code></a> which will
use its cache.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<em>int</em>) – The index to get the scan for</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="common_scan.html#ms_deisotope.data_source.common.Scan" title="ms_deisotope.data_source.common.Scan">Scan</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_time">
<code class="descname">get_scan_by_time</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms_deisotope/data_source/common.html#RandomAccessScanSource.get_scan_by_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the scan object for the specified scan time.</p>
<p>This internally calls <a class="reference internal" href="#ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_id" title="ms_deisotope.data_source.common.RandomAccessScanSource.get_scan_by_id"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_scan_by_id()</span></code></a> which will
use its cache.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>float</em>) – The time to get the nearest scan from</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="common_scan.html#ms_deisotope.data_source.common.Scan" title="ms_deisotope.data_source.common.Scan">Scan</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ms_deisotope.data_source.common.RandomAccessScanSource.start_from_scan">
<code class="descname">start_from_scan</code><span class="sig-paren">(</span><em>scan_id=None</em>, <em>rt=None</em>, <em>index=None</em>, <em>require_ms1=True</em>, <em>grouped=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ms_deisotope/data_source/common.html#RandomAccessScanSource.start_from_scan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ms_deisotope.data_source.common.RandomAccessScanSource.start_from_scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct an iterator which will start from the scan matching one of <code class="docutils literal notranslate"><span class="pre">scan_id</span></code>,
<code class="docutils literal notranslate"><span class="pre">rt</span></code>, or <code class="docutils literal notranslate"><span class="pre">index</span></code>. Only one may be provided.</p>
<p>After invoking this method, the iterator this object wraps will be changed to begin
yielding scan bunchs (or single scans if <code class="docutils literal notranslate"><span class="pre">grouped</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p>
<p>This method will trigger several random-access operations, making it prohibitively
expensive for normally compressed files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>scan_id</strong> (<em>str</em><em>, </em><em>optional</em>) – Start from the scan with the specified id.</li>
<li><strong>rt</strong> (<em>float</em><em>, </em><em>optional</em>) – Start from the scan nearest to specified time (in minutes) in the run. If no
exact match is found, the nearest scan time will be found, rounded up.</li>
<li><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – Start from the scan with the specified index.</li>
<li><strong>require_ms1</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the iterator must start from an MS1 scan. True by default.</li>
<li><strong>grouped</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether the iterator should yield scan bunches or single scans. True by default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="common_scan.html">Common Scan Model</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="metadata/index.html">File Metadata</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Joshua Klein.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>